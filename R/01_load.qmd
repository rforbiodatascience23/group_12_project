---
title: "01_load.qmd"
author: "Group12"
format: html
editor: visual
---

## Extract data

```{r load_libraries}

#| echo: false
#| message: false
#| warning: false
library(tidyverse)

```

```{r get_data}
#| echo: false

filename <-  c("DONsRaw.csv","COVIDOutbreaks.csv","Outbreaks.csv","UniqueDONs.csv","icd1011.csv","isocodes.csv")
filename2 <-  "WDI_CSV.zip"
dir_name <- "../_raw/"

if( !dir.exists(dir_name) ){
  dir.create(path = dir_name)
}

if ( length(list.files(dir_name, pattern="csv")) != length(filename) ) {
  print(str_c("Only ",str_flatten_comma(filename,), " requiered in _raw folder"))
  break
} else if ( file.exists(str_c(dir_name, filename)) ){ 
  rawdons <-  read.csv("DONsRaw.csv")
  covidoutbreaks <- read.csv("COVIDOutbreaks.csv")
  outbreaks <- read.csv("Outbreaks.csv")
  uniquedons <- read.csv("UniqueDONs.csv")
  icd1011 <- read.csv("icd1011.csv",sep = ";")
  isocodes <- read.csv("isocodes.csv",sep = ";")
}
if ( !file.exists(str_c(dir_name, filename2))) {
  print("No file named WDI_CSV exists in directory _raw")
} else if ( file.exists(str_c(dir_name, filename2)) ){
  wdi <- read.csv("WDICountry.csv")
}


```

```{r merge and export data}
####we need to export data to an 01_dat_load_tsv fil on gitignore
#| echo: false



```
