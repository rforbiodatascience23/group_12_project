---
title: "01_load.qmd"
author: "Group12"
format: html
editor: visual
---

## Extract data

**Load library**

```{r load_libraries}

#| echo: false

library(tidyverse)


```

**Load data**

```{r get_data}
#| echo: false

UniqueDONs <- read.csv("/home/people/s223712/group_12_project/_raw/UniqueDONs.csv")

COVIDOutbreaks <- read.csv("/home/people/s223712/group_12_project/_raw/COVIDOutbreaks.csv")

```

**Clean data**

```{r}
UniqueDONs_clean <- UniqueDONs |>
  rename(Index = X) |>
  mutate(Definition = if_else(Definition == "", "Unspecified", Definition),
         icd11l2 = if_else(icd11l2 == "", "Not reported", icd11l2),
                           icd11l3 = if_else(icd11l3 == "", "Not reported", icd11l3),
                           icd11l2 = if_else(str_detect(icd11l2, "Aetiology"), "Bacteria or viral infection", icd11l2))
  
COVIDOutbreaks_clean <- COVIDOutbreaks |>
  rename(Index = X) |>
  mutate(
    icd11c1 = as.character(icd11c1),
    icd11l2 = if_else(str_detect(icd11l2, "International"), "New uncertain disease", icd11l2))
 
```
