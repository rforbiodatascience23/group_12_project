---
title: "01_load.qmd"
author: "Group12"
format: 
  html:
    embed-resources: true
editor: visual
---

## Extract data

In this file we load all the datasets we used and processed throughout the study analysis

**Load library**

```{r load_libraries}
#| echo: false

library(tidyverse)

```

**Load data**

```{r get_data}
#| echo: false

filename <-  c("DONsRaw.csv","COVIDOutbreaks.csv","Outbreaks.csv","UniqueDONs.csv","icd1011.csv","isocodes.csv","WDICountry.csv", "world-administrative-boundaries.csv")
filename2 <-  "WDICountry.csv"
dir_name <- "../_raw/"

if( !dir.exists(dir_name) ){
  dir.create(path = dir_name)
}

<<<<<<< HEAD
if (length(list.files(dir_name, pattern="csv")) != length(filename) ) {
  print(str_c("Only ",str_flatten_comma(filename,), " requiered in _raw folder"))
  break
} else if (length(list.files(dir_name, pattern="csv")) == length(filename)) { 
=======

###### these lines below I could not get to work... 
#if ( length(list.files(dir_name, pattern="csv")) != length(filename) ) {
#  print(str_c("Only ",str_flatten_comma(filename,), " requiered in _raw folder"))
#  break
#} else if ( length(list.files(dir_name, pattern="csv")) == length(filename)) { 
>>>>>>> 4ea8ed4d7fbabd0bd0a33101c206a5bdbeb42e2b
  rawdons <-  read.csv(str_c(dir_name,"DONsRaw.csv"))
  covidoutbreaks <- read.csv(str_c(dir_name,"COVIDOutbreaks.csv"))
  outbreaks <- read.csv(str_c(dir_name,"Outbreaks.csv"))
  uniquedons <- read.csv(str_c(dir_name,"UniqueDONs.csv"))
  icd1011 <- read.csv(str_c(dir_name,"icd1011.csv"),sep = ";")
  isocodes <- read.csv(str_c(dir_name,"isocodes.csv"),sep = ";")
<<<<<<< HEAD
  worldboundaries <- read.csv(str_c(dir_name,"world-administrative-boundaries.csv"),sep = ";")
}
=======
#}

>>>>>>> 4ea8ed4d7fbabd0bd0a33101c206a5bdbeb42e2b
if ( !file.exists(str_c(dir_name, filename2))) {
  print("No file named WDI_CSV exists in directory _raw")
} else if ( file.exists(str_c(dir_name, filename2)) ){
  wdi <- read.csv((str_c(dir_name,"WDICountry.csv")))
}

```
