---
title: "01_load.qmd"
author: "group_12"
format: 
  html:
    embed-resources: true
editor: visual
---

## Extract data

In this file we load all the datasets we used and processed throughout the study analysis

**Load library**

```{r load_libraries}
#| echo: false
#| message: false
#| warning: false
library(tidyverse)

```

**Load data**

```{r get_data}
#| echo: false

filename <-  c("DONsRaw.csv",
               "COVIDOutbreaks.csv",
               "Outbreaks.csv",
               "UniqueDONs.csv",
               "icd1011.csv",
               "isocodes.csv",
               "WDICountry.csv", 
               "world-administrative-boundaries.csv")
dir_name <- "../_raw/"

if( !dir.exists(dir_name) ){
  dir.create(path = dir_name)
}

if ( length(list.files(dir_name, pattern="csv")) != length(filename) ) {
  print(str_c(str_flatten_comma(filename,), " requiered in _raw folder"))

} else if ( length(list.files(dir_name, pattern="csv")) == length(filename)) { 
  rawdons <-  read.csv(str_c(dir_name,"DONsRaw.csv"))
  covidOutbreaks <- read.csv(str_c(dir_name,"COVIDOutbreaks.csv"), sep = ",")
  outbreaks <- read.csv(str_c(dir_name,"Outbreaks.csv"), sep = ",")
  uniqueDONs <- read.csv(str_c(dir_name,"UniqueDONs.csv"),sep = ",")
  wdi <- read.csv(str_c(dir_name,"WDICountry.csv"))
  worldboundaries <- read.csv(str_c(dir_name, "world-administrative-boundaries.csv"), sep = ",")
  icd1011 <- read.csv(str_c(dir_name,"icd1011.csv"), sep ="\t")
  isocodes <- read.csv(str_c(dir_name,"isocodes.csv"), sep = ";")
}
```
