---
title: "05_analysis"
format: html
editor: visual
---

## Disease distribution over the decades

```{r}

#Load Libraries
library(tidyverse)
library(ggplot2)
 
```

```{r}

#Disease_per_decade <- 
Total_Outbreaks |>
  mutate(Decade = factor(
    cut(x = Year,
        breaks = seq(
          from = 1996,
          to = 2026,
          by = 10),
        labels = c("1996-2006",
                   "2006-2016",
                   "2016-2022")))) |>
  group_by(Decade, Disease_class) |>
  count() |>
  drop_na() |> 
  ggplot(mapping =
           aes(x = Decade,
               y = n,
               fill = Disease_class)) +
  geom_col(stat = "identity") +
  theme_classic() +
  theme(plot.title = element_text(size = 10, 
                              hjust = 0.5, 
                              vjust = 1),
    axis.title.x = element_text(size = 7),
    axis.title.y = element_text(size = 7),
    axis.text.x = element_text(size = 5,
                               vjust = 0.1),
    legend.title = element_text(size = 8),
    legend.text = element_text(size = 6)) +
  labs(x = "Decades",
       y = "Count of diseases",
       title = "Disease distribution per decade",
       fill = "Disease classification")

    
  # #scale_fill_manual(labels =
  #                     c("Certain infectious or parasitic diseases",
  #                       "Codes for special purposes",
  #                       "Diseases of the nervous system",
  #                       "Diseases of the respiratory system",
  #                       "Extension Codes"),
  #                   values = c("#1b3812",
  #                              "#9e1800",
  #                              "#0526ff",
  #                              "yellow",
  #                              "orange")) +
  
 

```
